<div align="center">

# ğŸ¬ vmarker

**è®©è§†é¢‘ç»“æ„å¯è§åŒ–**

[![GitHub Stars](https://img.shields.io/github/stars/bbruceyuan/vmarker?style=social)](https://github.com/bbruceyuan/vmarker/stargazers)
[![Python 3.13+](https://img.shields.io/badge/python-3.13+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Next.js 16](https://img.shields.io/badge/Next.js-16-black.svg)](https://nextjs.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.115+-green.svg)](https://fastapi.tiangolo.com/)

è§†é¢‘æ ‡è®°å·¥å…·é›† - ä» SRT å­—å¹•è‡ªåŠ¨ç”Ÿæˆé€æ˜ç« èŠ‚è¿›åº¦æ¡ï¼Œæå‡é•¿è§†é¢‘å®Œæ’­ç‡

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) Â· [åŠŸèƒ½ç‰¹æ€§](#-æ ¸å¿ƒåŠŸèƒ½) Â· [åœ¨çº¿æ¼”ç¤º](https://vmarker.app)

**[English](./readme/README_EN.md)** | ç®€ä½“ä¸­æ–‡

</div>

---

## ğŸ“– ç®€ä»‹

vmarker æ˜¯ä¸€ä¸ªå¼€æºçš„è§†é¢‘æ ‡è®°å·¥å…·é›†ï¼Œé€šè¿‡ **AI æ™ºèƒ½åˆ†æ®µ**å’Œ**å¯è§†åŒ–è¿›åº¦æ¡**ï¼Œè®©è§‚ä¼—ä¸€çœ¼çœ‹æ¸…è§†é¢‘ç»“æ„ï¼Œæ˜¾è‘—æå‡é•¿è§†é¢‘çš„å®Œæ’­ç‡ã€‚

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š
- ğŸ¨ **é€æ˜é€šé“è¾“å‡º** - RGBA æ ¼å¼ï¼Œå¯å®Œç¾å åŠ åˆ°ä»»æ„è§†é¢‘
- ğŸ¤– **AI æ™ºèƒ½åˆ†æ®µ** - è‡ªåŠ¨è¯†åˆ«ç« èŠ‚è¾¹ç•Œï¼Œæ— éœ€æ‰‹åŠ¨æ ‡è®°
- âš¡ **å¿«é€Ÿç”Ÿæˆ** - 10-40 ç§’å®Œæˆï¼Œä¼ ç»Ÿæ‰‹åŠ¨åˆ¶ä½œéœ€ 30-60 åˆ†é’Ÿ
- ğŸ–¥ï¸ **Web + CLI åŒæ¨¡å¼** - å¯è§†åŒ–ç•Œé¢ + å‘½ä»¤è¡Œå·¥å…·
- ğŸ”’ **æœ¬åœ°å¤„ç†** - è§†é¢‘æ–‡ä»¶ä¸ä¸Šä¼ äº‘ç«¯ï¼Œéšç§ä¼˜å…ˆ

---

## ğŸ¯ è§£å†³çš„é—®é¢˜

é•¿è§†é¢‘ï¼ˆè¯¾ç¨‹ã€ç›´æ’­ã€è¯„æµ‹ï¼‰å®Œæ’­ç‡ä½çš„æ ¸å¿ƒåŸå› ï¼š
- **ç»“æ„ä¸æ¸…æ™°** - è§‚ä¼—ä¸çŸ¥é“è§†é¢‘è®²ä»€ä¹ˆï¼Œå®¹æ˜“ä¸­é€”ç¦»å¼€
- **å¹³å°é™åˆ¶** - åŸç”Ÿç« èŠ‚åŠŸèƒ½åªåœ¨æ’­æ”¾å™¨å†…æœ‰æ•ˆ
- **åˆ¶ä½œæˆæœ¬é«˜** - æ‰‹åŠ¨åˆ¶ä½œç« èŠ‚æ¡éœ€è¦ 30-60 åˆ†é’Ÿ

**vmarker çš„è§£å†³æ–¹æ¡ˆ**ï¼š
```
ä¼ ç»Ÿæ–¹å¼ï¼š30-60 åˆ†é’Ÿæ‰‹åŠ¨åˆ¶ä½œ
           â†“
vmarkerï¼š30 ç§’å‘½ä»¤ / 1 æ¬¡ç‚¹å‡»
           â†“
        10-40 ç§’è‡ªåŠ¨ç”Ÿæˆ
           â†“
    ä¸“ä¸šçº§é€æ˜è§†é¢‘è¾“å‡º
```

---

## ğŸ¬ æ•ˆæœå±•ç¤º

### è‡ªåŠ¨ç”Ÿæˆçš„ç« èŠ‚è¿›åº¦æ¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 00:00        02:30            05:45        10:20       14:00   â”‚
â”‚ å¼€åœºä»‹ç»      èƒŒæ™¯è¯´æ˜          æ ¸å¿ƒå†…å®¹      å®æˆ˜æ¼”ç¤º    æ€»ç»“å›é¡¾  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç« èŠ‚åˆ—è¡¨ï¼š
00:00  å¼€åœºä»‹ç»
02:30  èƒŒæ™¯è¯´æ˜
05:45  æ ¸å¿ƒå†…å®¹  â† å½“å‰æ’­æ”¾
10:20  å®æˆ˜æ¼”ç¤º
14:00  æ€»ç»“å›é¡¾

ç”Ÿæˆé€æ˜èƒŒæ™¯è§†é¢‘ (MOV)ï¼Œå¯ç›´æ¥å åŠ åˆ°ä½ çš„è§†é¢‘ä¸Š
```

**ç‰¹ç‚¹**ï¼š
- è‡ªåŠ¨è¯†åˆ«ç« èŠ‚è¾¹ç•Œï¼ˆAI è¯­ä¹‰ç†è§£ï¼‰
- åŠ¨æ€æ–‡å­—å¸ƒå±€ï¼ˆè‡ªé€‚åº”é•¿åº¦ï¼‰
- å¤šå¥—é…è‰²ä¸»é¢˜ï¼ˆ10+ é¢„è®¾ï¼‰
- é€æ˜é€šé“è¾“å‡ºï¼ˆRGBA æ ¼å¼ï¼‰

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. Chapter Bar - ç« èŠ‚è¿›åº¦æ¡ â­

ä» SRT å­—å¹•è‡ªåŠ¨ç”Ÿæˆå¸¦é€æ˜é€šé“çš„ç« èŠ‚è¿›åº¦æ¡è§†é¢‘ã€‚

**ä½¿ç”¨æ–¹å¼**ï¼š
```bash
# CLI å‘½ä»¤ï¼ˆAI æ™ºèƒ½åˆ†æ®µï¼‰
acb input.srt

# è‡ªåŠ¨åˆ†æ®µï¼ˆæ¯ 60 ç§’ä¸€æ®µï¼Œæ— éœ€ AIï¼‰
acb input.srt --mode auto --interval 60

# Web ç•Œé¢ï¼ˆå¯è§†åŒ–ç¼–è¾‘ï¼‰
cd web && npm run dev  # è®¿é—® http://localhost:3000
```

---

### 2. Progress Bar - æ’­æ”¾è¿›åº¦æ¡

ç”Ÿæˆç®€æ´çš„æ’­æ”¾è¿›åº¦æ¡è§†é¢‘ã€‚

```bash
vmarker progress --duration 360 --color blue
```

---

### 3. Show Notes - AI è§†é¢‘å¤§çº²

ä»å­—å¹•è‡ªåŠ¨ç”Ÿæˆç»“æ„åŒ–å¤§çº²ï¼ˆæ‘˜è¦ + æ—¶é—´è½´ï¼‰ã€‚

```bash
vmarker shownotes input.srt -o notes.md
```

**è¾“å‡ºç¤ºä¾‹**ï¼š
```markdown
## è§†é¢‘å¤§çº²

### å¼€åœºä»‹ç» (00:00 - 02:30)
- é¡¹ç›®èƒŒæ™¯å’ŒåŠ¨æœº
- æ ¸å¿ƒé—®é¢˜é™ˆè¿°

### åŠŸèƒ½æ¼”ç¤º (02:30 - 08:45)
- Chapter Bar åŠŸèƒ½å±•ç¤º
- AI æ™ºèƒ½åˆ†æ®µæ•ˆæœ
```

---

### 4. Subtitle - AI å­—å¹•æ¶¦è‰²

ä¿®æ­£ ASR è¯†åˆ«çš„"ç©ºè€³"é”™è¯¯ï¼Œæå‡å¯è¯»æ€§ã€‚

```bash
vmarker subtitle input.srt -o polished.srt
```

---

### 5. Video Process - å…¨æµç¨‹å¤„ç†

ä¸Šä¼ è§†é¢‘ â†’ ASR è¯­éŸ³è¯†åˆ« â†’ ç”Ÿæˆç« èŠ‚æ¡ â†’ åˆæˆåˆ°åŸè§†é¢‘ã€‚

**ä½¿ç”¨æ–¹å¼**ï¼šWeb ç•Œé¢å®Œæ•´æµç¨‹

---

## ğŸ› ï¸ å®‰è£…

### å‰ç½®è¦æ±‚

- **Python** >= 3.13
- **Node.js** >= 20
- **FFmpeg** (ç³»ç»Ÿå®‰è£…)

### å®‰è£… FFmpeg

**macOS**:
```bash
brew install ffmpeg
```

**Ubuntu/Debian**:
```bash
sudo apt-get update && sudo apt-get install ffmpeg
```

**Windows**:
ä¸‹è½½ https://www.gyan.dev/ffmpeg/builds/ å¹¶æ·»åŠ åˆ° PATH

### å…‹éš†ä»“åº“

```bash
git clone https://github.com/bbruceyuan/vmarker.git
cd vmarker
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šWeb ç•Œé¢ï¼ˆæ¨èï¼‰

#### 1. å¯åŠ¨åç«¯

```bash
cd backend

# å®‰è£…ä¾èµ–ï¼ˆä½¿ç”¨ UVï¼‰
curl -LsSf https://astral.sh/uv/install.sh | sh
uv sync

# é…ç½® API Keyï¼ˆAI åŠŸèƒ½éœ€è¦ï¼‰
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ OpenAI API Key æˆ–å…¼å®¹æœåŠ¡

# å¯åŠ¨åç«¯
uv run uvicorn vmarker.api:app --reload --port 8000
```

#### 2. å¯åŠ¨å‰ç«¯

```bash
cd web

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® **http://localhost:3000**

---

### æ–¹å¼äºŒï¼šCLI å‘½ä»¤è¡Œ

#### å¼€å‘æ¨¡å¼ï¼ˆæ¨èï¼‰

åœ¨ `backend/` ç›®å½•å†…ä½¿ç”¨ `uv run` å‰ç¼€ï¼š

```bash
cd backend

# Chapter Bar å¿«æ·å‘½ä»¤
uv run acb input.srt
uv run acb input.srt --theme tech-blue

# é€šç”¨å‘½ä»¤
uv run vmarker chapter input.srt
uv run vmarker progress --duration 360
uv run vmarker shownotes input.srt
uv run vmarker subtitle input.srt
uv run vmarker themes  # åˆ—å‡ºé…è‰²æ–¹æ¡ˆ
```

#### å®‰è£…æ¨¡å¼ï¼ˆå…¨å±€ä½¿ç”¨ï¼‰

```bash
cd backend
uv pip install -e .

# ä¹‹åå¯åœ¨ä»»ä½•ä½ç½®è¿è¡Œ
acb input.srt
vmarker chapter input.srt --theme sunset-orange
```

**è¯¦ç»† CLI æ–‡æ¡£**ï¼š[backend/CLI_USAGE.md](backend/CLI_USAGE.md)

---

## ğŸ’¡ ä½¿ç”¨åœºæ™¯

### çŸ¥è¯†è¯¾ç¨‹è§†é¢‘

60 åˆ†é’Ÿæ•™å­¦è§†é¢‘ï¼Œéœ€è¦æ¸…æ™°çš„ç« èŠ‚åˆ’åˆ†ï¼š

```bash
acb course.srt --mode ai
```

AI è‡ªåŠ¨è¯†åˆ«çŸ¥è¯†æ¨¡å—è¾¹ç•Œï¼Œç”Ÿæˆè¯­ä¹‰è¿è´¯çš„ç« èŠ‚ã€‚

---

### ç›´æ’­å›æ”¾

2 å°æ—¶ç›´æ’­ï¼Œéœ€è¦å¿«é€Ÿåˆ†æ®µï¼š

```bash
acb live.srt --mode auto --interval 600  # æ¯ 10 åˆ†é’Ÿä¸€æ®µ
```

æ— éœ€ AIï¼Œå¿«é€ŸæŒ‰æ—¶é—´åˆ†æ®µã€‚

---

### äº§å“è¯„æµ‹

10 åˆ†é’Ÿè¯„æµ‹ï¼Œéœ€è¦ç²¾ç¡®æ§åˆ¶ç« èŠ‚ï¼š

ä½¿ç”¨ Web ç•Œé¢å¯è§†åŒ–ç¼–è¾‘ç« èŠ‚æ—¶é—´å’Œæ ‡é¢˜ã€‚

---

### ä¼šè®®å½•åƒ

è‡ªåŠ¨ç”Ÿæˆä¼šè®®å¤§çº² + ç« èŠ‚æ¡ï¼š

```bash
vmarker shownotes meeting.srt -o meeting_notes.md
acb meeting.srt --mode ai
vmarker subtitle meeting.srt -o meeting_polished.srt
```

---

## ğŸ“¦ åœ¨è§†é¢‘ç¼–è¾‘è½¯ä»¶ä¸­ä½¿ç”¨

### Adobe Premiere Pro

1. å¯¼å…¥åŸè§†é¢‘åˆ°æ—¶é—´çº¿
2. å¯¼å…¥ç”Ÿæˆçš„ `chapter_bar.mov`
3. å°†ç« èŠ‚æ¡æ‹–å…¥æœ€ä¸Šå±‚è§†é¢‘è½¨é“
4. è°ƒæ•´ä½ç½®ï¼ˆé€šå¸¸æ”¾åœ¨é¡¶éƒ¨ï¼‰
5. å¯¼å‡ºæœ€ç»ˆè§†é¢‘

### å‰ªæ˜  (CapCut)

1. æ·»åŠ åŸè§†é¢‘åˆ°ä¸»è½¨é“
2. æ–°å¢ç”»ä¸­ç”»è½¨é“
3. å¯¼å…¥ç« èŠ‚æ¡è§†é¢‘
4. è°ƒæ•´ä½ç½®å’Œå¤§å°
5. å¯¼å‡ºè§†é¢‘

### DaVinci Resolve

1. å¯¼å…¥ä¸¤ä¸ªè§†é¢‘æ–‡ä»¶
2. å°†ç« èŠ‚æ¡æ”¾åœ¨æœ€ä¸Šå±‚è½¨é“
3. è°ƒæ•´åˆæˆæ¨¡å¼å’Œä½ç½®
4. æ¸²æŸ“è¾“å‡º

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
vmarker/
â”œâ”€â”€ backend/          # Python åç«¯ (FastAPI + CLI)
â”‚   â”œâ”€â”€ src/vmarker/  # æ ¸å¿ƒæ¨¡å—
â”‚   â””â”€â”€ tests/        # å•å…ƒæµ‹è¯•
â”œâ”€â”€ web/              # Next.js å‰ç«¯
â”‚   â”œâ”€â”€ src/app/      # App Router é¡µé¢
â”‚   â””â”€â”€ src/components/  # UI ç»„ä»¶
â”œâ”€â”€ task/             # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ .claude/          # Claude é…ç½®
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### ç¯å¢ƒé…ç½®

AI åŠŸèƒ½éœ€è¦åœ¨ `backend/.env` é…ç½®ï¼š

```env
# AI é…ç½®ï¼ˆç« èŠ‚åˆ†æ®µã€å¤§çº²ç”Ÿæˆã€å­—å¹•æ¶¦è‰²ï¼‰
API_KEY=your-api-key
API_BASE=https://api.openai.com/v1
API_MODEL=gpt-4o-mini

# ASR é…ç½®ï¼ˆå¯é€‰ï¼‰
ASR_API_BASE=https://api.openai.com/v1
ASR_MODEL=whisper-1
```

Supabase ç™»å½•éœ€è¦é…ç½®åç«¯ JWT å’Œå‰ç«¯ç¯å¢ƒå˜é‡ï¼š

```env
# backend/.env
SUPABASE_JWT_SECRET=your-jwt-secret-here
SUPABASE_URL=https://xxx.supabase.co

# web/.env.local
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### `.env` / `.env.local` é…ç½®æµç¨‹

1. åœ¨ Supabase æ§åˆ¶å°è·å–å‚æ•°ï¼š
   - Project Settings â†’ API â†’ Project URL â†’ å¡«åˆ° `SUPABASE_URL` å’Œ `NEXT_PUBLIC_SUPABASE_URL`
   - Project Settings â†’ API â†’ API Keys â†’ **anon/public** key â†’ å¡«åˆ° `NEXT_PUBLIC_SUPABASE_ANON_KEY`
   - Project Settings â†’ JWT Keys â†’ **Legacy JWT Secret** â†’ å¡«åˆ° `SUPABASE_JWT_SECRET`

2. åœ¨ `backend/.env` å†™å…¥ï¼ˆç¤ºä¾‹ï¼‰ï¼š
   ```env
   SUPABASE_JWT_SECRET=your-jwt-secret-here
   SUPABASE_URL=https://xxx.supabase.co
   ```

3. åœ¨ `web/.env.local` å†™å…¥ï¼ˆç¤ºä¾‹ï¼‰ï¼š
   ```env
   # åç«¯ API åœ°å€
   NEXT_PUBLIC_API_URL=http://localhost:8000
   NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
   ```

4. é‡å¯å‰åç«¯è¿›ç¨‹ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚

> æ³¨æ„ï¼š`SUPABASE_JWT_SECRET` ä»…ç”¨äºåç«¯éªŒè¯ JWTã€‚å½“å‰åç«¯ä½¿ç”¨ HS256ï¼ˆLegacy JWT Secretï¼‰ï¼›å¦‚æœé¡¹ç›®å·²åˆ‡æ¢åˆ°æ–°çš„ JWT Signing Keysï¼ˆP-256ï¼‰ï¼Œéœ€è¦å…ˆæ”¹åç«¯éªŒç­¾æ–¹å¼ã€‚

### æµ‹è¯•

```bash
cd backend
pytest tests/
```

### ä»£ç æ£€æŸ¥

```bash
ruff check src/
ruff format src/
```

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **Apache License 2.0** å¼€æºã€‚

- âœ… å…è®¸å•†ä¸šä½¿ç”¨
- âœ… å…è®¸ä¿®æ”¹å’Œåˆ†å‘
- âœ… éœ€ä¿ç•™ç‰ˆæƒå£°æ˜

è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ™ è‡´è°¢

- [FFmpeg](https://ffmpeg.org/) - è§†é¢‘å¤„ç†
- [Next.js](https://nextjs.org/) - React æ¡†æ¶
- [FastAPI](https://fastapi.tiangolo.com/) - Python Web æ¡†æ¶
- [shadcn/ui](https://ui.shadcn.com/) - UI ç»„ä»¶åº“
- [UV](https://github.com/astral-sh/uv) - Python åŒ…ç®¡ç†å™¨
- [OpenAI](https://openai.com/) - Whisper ASR å’Œ GPT æ¨¡å‹

---

## ğŸ“® è”ç³»æ–¹å¼

- **Author** - Chaofa Yuan ([@bbruceyuan](https://github.com/bbruceyuan))
- **Website** - https://yuanchaofa.com
- **GitHub** - https://github.com/bbruceyuan/vmarker
- **Email** - bruceyuan123@gmail.com

---

<p align="center">
  <strong>â­ å¦‚æœè§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼</strong>
</p>

<p align="center">
  Built with â¤ï¸ by <a href="https://yuanchaofa.com">Chaofa Yuan</a>
</p>
